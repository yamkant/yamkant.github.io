<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>[Study] Database - ÎèôÏãúÏÑ± Í¥ÄÎ†® Î¨∏Ï†ú - Yam‚Äôs Dev Logs</title>
<meta name="description" content="Ìä∏ÎûúÏû≠ÏÖò Isolation Level    Dirty Read, Non-repeatable Read, Phantom ReadÎ•º Î∞úÏÉùÌïòÏßÄ ÏïäÍ≤å ÎßåÎì†Îã§Î©¥, Ï†úÏïΩÏÇ¨Ìï≠Ïù¥ ÎßéÏïÑÏßëÎãàÎã§.   Ï†úÏïΩÏÇ¨Ìï≠Ïù¥ ÎßéÏïÑÏßÄÎ©¥ ÎèôÏãúÏ≤òÎ¶¨(concurrency) Í∞ÄÎä•Ìïú Ìä∏ÎûúÏû≠ÏÖòÏùò ÏàòÍ∞Ä Ï§ÑÏñ¥Îì§Í≤å ÎêòÏñ¥, Í≤∞Íµ≠ DBÏùò Ï†ÑÏ≤¥ Ï≤òÎ¶¨Îüâ(throughput)Ïù¥ ÌïòÎùΩÌïòÍ≤å ÎêòÎäî Îã®Ï†êÏù¥ ÏûàÏäµÎãàÎã§.   Í∞úÎ∞úÏûêÎäî Í≤©Î¶¨ÏàòÏ§ÄÏùÑ ÏÑ§Ï†ïÌïòÏó¨ Ïì∞Î£®ÌíãÍ≥º Îç∞Ïù¥ÌÑ∞ ÏùºÍ¥ÄÏÑ± ÏÇ¨Ïù¥Ïùò Ìä∏Î†àÏù¥Îìú Ïò§ÌîÑÎ•º Í¥ÄÎ¶¨Ìï† Ïàò ÏûàÏäµÎãàÎã§.   SQL ÌëúÏ§ÄÏóêÏÑú Ï†ïÏùòÌïòÎäî Í≤©Î¶¨ÏàòÏ§Ä(Isolation Level)Ïùò ÌóàÏö©Î≤îÏúÑÎäî ÏïÑÎûòÏôÄ Í∞ôÏäµÎãàÎã§.">


  <meta name="author" content="Yeham Kim">
  
  <meta property="article:author" content="Yeham Kim">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Yam's Dev Logs">
<meta property="og:title" content="[Study] Database - ÎèôÏãúÏÑ± Í¥ÄÎ†® Î¨∏Ï†ú">
<meta property="og:url" content="http://localhost:4000/study/study-db-concurrency/">


  <meta property="og:description" content="Ìä∏ÎûúÏû≠ÏÖò Isolation Level    Dirty Read, Non-repeatable Read, Phantom ReadÎ•º Î∞úÏÉùÌïòÏßÄ ÏïäÍ≤å ÎßåÎì†Îã§Î©¥, Ï†úÏïΩÏÇ¨Ìï≠Ïù¥ ÎßéÏïÑÏßëÎãàÎã§.   Ï†úÏïΩÏÇ¨Ìï≠Ïù¥ ÎßéÏïÑÏßÄÎ©¥ ÎèôÏãúÏ≤òÎ¶¨(concurrency) Í∞ÄÎä•Ìïú Ìä∏ÎûúÏû≠ÏÖòÏùò ÏàòÍ∞Ä Ï§ÑÏñ¥Îì§Í≤å ÎêòÏñ¥, Í≤∞Íµ≠ DBÏùò Ï†ÑÏ≤¥ Ï≤òÎ¶¨Îüâ(throughput)Ïù¥ ÌïòÎùΩÌïòÍ≤å ÎêòÎäî Îã®Ï†êÏù¥ ÏûàÏäµÎãàÎã§.   Í∞úÎ∞úÏûêÎäî Í≤©Î¶¨ÏàòÏ§ÄÏùÑ ÏÑ§Ï†ïÌïòÏó¨ Ïì∞Î£®ÌíãÍ≥º Îç∞Ïù¥ÌÑ∞ ÏùºÍ¥ÄÏÑ± ÏÇ¨Ïù¥Ïùò Ìä∏Î†àÏù¥Îìú Ïò§ÌîÑÎ•º Í¥ÄÎ¶¨Ìï† Ïàò ÏûàÏäµÎãàÎã§.   SQL ÌëúÏ§ÄÏóêÏÑú Ï†ïÏùòÌïòÎäî Í≤©Î¶¨ÏàòÏ§Ä(Isolation Level)Ïùò ÌóàÏö©Î≤îÏúÑÎäî ÏïÑÎûòÏôÄ Í∞ôÏäµÎãàÎã§.">







  <meta property="article:published_time" content="2023-10-30T00:05:07+09:00">





  

  


<link rel="canonical" href="http://localhost:4000/study/study-db-concurrency/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Yeham Kim",
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Yam's Dev Logs Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--archive">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Yam's Dev Logs
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/categories/">Categories</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
<div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Yeham Kim</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>Ï†úÌíàÏùÑ ÎßåÎìúÎäî Í∞úÎ∞úÏûêÏûÖÎãàÎã§.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Seoul</span>
        </li>
      

      
        
          
            <li><a href="mailto:dev.yamkim@gmail.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
        
          
        
          
        
          
            <li><a href="https://github.com/yamkant" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  

  
  <!--Ï†ÑÏ≤¥ Í∏Ä ÏàòÎ•º ÏÑ∏Í∏∞ ÏúÑÌïú Ïó∞ÏÇ∞. sum Î≥ÄÏàòÏóê Ï†ÑÏ≤¥ Í∏Ä Ïàò Ï†ÄÏû•-->



<nav class="nav__list">
    <input id="ac-toc" name="accordion-toc" type="checkbox" />
    <label for="ac-toc">Toggle menu</label>
    <ul class="nav__items" id="category_tag_menu">
        <!--Ï†ÑÏ≤¥ Í∏Ä Ïàò-->
        <li style="font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;">
            üìÇ <span>Total Posts: 51</span>
        </li>
        <li>
            <!--span ÌÉúÍ∑∏Î°ú Ïπ¥ÌÖåÍ≥†Î¶¨Îì§ÏùÑ ÌÅ¨Í≤å Î∂ÑÎ•ò ex) C/C++/C#-->
            <span class="nav__sub-title">Django</span>
            <!--ul ÌÉúÍ∑∏Î°ú Í∞ôÏùÄ Ïπ¥ÌÖåÍ≥†Î¶¨Îì§ Î™®ÏïÑÎëî ÌéòÏù¥ÏßÄÎì§ ÎÇòÏó¥-->
            <ul>
                <!--Cpp Ïπ¥ÌÖåÍ≥†Î¶¨ Í∏ÄÎì§ÏùÑ Î™®ÏïÑÎëî ÌéòÏù¥ÏßÄÏù∏ /categories/cpp Ï£ºÏÜåÏùò Í∏ÄÎ°ú ÎßÅÌÅ¨ Ïó∞Í≤∞-->
                <!--category[1].size Î°ú Ìï¥Îãπ Ïπ¥ÌÖåÍ≥†Î¶¨Î•º Í∞ÄÏßÑ Í∏ÄÏùò Í∞úÏàò ÌëúÏãú-->
                
                
                
                
                
                
                
                
                <li><a href="/categories/django-strategy" class="">Django Strategy (14)</a></li>
                
                
                
                
                
                
                
                
                
                
                
                
            </ul>
            <ul>
                
                
                
                
                <li><a href="/categories/django-deep" class="">Django Deep (2)</a></li>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
            </ul>
            <span class="nav__sub-title">Server</span>
            <ul>
                
                
                
                
                
                
                
                
                
                
                
                
                <li><a href="/categories/server" class="">Server (3)</a></li>
                
                
                
                
                
                
                
                
            </ul>
            <span class="nav__sub-title">Study</span>
            <ul>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                <li><a href="/categories/django-study" class="">Django Study (3)</a></li>
                
                
                
                
            </ul>
            <ul>
                
                
                
                
                
                
                <li><a href="/categories/study" class="">study (22)</a></li>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
            </ul>
            <span class="nav__sub-title">Error Handle</span>
            <ul>
                
                
                <li><a href="/categories/error-async" class="">ÎπÑÎèôÍ∏∞ Ï≤òÎ¶¨ (2)</a></li>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
            </ul>
            <span class="nav__sub-title">Database</span>
            <ul>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                <li><a href="/categories/database" class="">SQL (1)</a></li>
                
                
                
                
                
                
            </ul>
        </li>
    </ul>
</nav>
  

</div>


  <div class="archive">
    
      <h1 id="page-title" class="page__title">[Study] Database - ÎèôÏãúÏÑ± Í¥ÄÎ†® Î¨∏Ï†ú</h1>
    
    <h2 id="Ìä∏ÎûúÏû≠ÏÖò-isolation-level">Ìä∏ÎûúÏû≠ÏÖò Isolation Level</h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Dirty Read</code>, <code class="language-plaintext highlighter-rouge">Non-repeatable Read</code>, <code class="language-plaintext highlighter-rouge">Phantom Read</code>Î•º Î∞úÏÉùÌïòÏßÄ ÏïäÍ≤å ÎßåÎì†Îã§Î©¥, Ï†úÏïΩÏÇ¨Ìï≠Ïù¥ ÎßéÏïÑÏßëÎãàÎã§.</li>
  <li>Ï†úÏïΩÏÇ¨Ìï≠Ïù¥ ÎßéÏïÑÏßÄÎ©¥ ÎèôÏãúÏ≤òÎ¶¨(concurrency) Í∞ÄÎä•Ìïú Ìä∏ÎûúÏû≠ÏÖòÏùò ÏàòÍ∞Ä Ï§ÑÏñ¥Îì§Í≤å ÎêòÏñ¥, Í≤∞Íµ≠ DBÏùò Ï†ÑÏ≤¥ Ï≤òÎ¶¨Îüâ(throughput)Ïù¥ ÌïòÎùΩÌïòÍ≤å ÎêòÎäî Îã®Ï†êÏù¥ ÏûàÏäµÎãàÎã§.</li>
  <li>Í∞úÎ∞úÏûêÎäî Í≤©Î¶¨ÏàòÏ§ÄÏùÑ ÏÑ§Ï†ïÌïòÏó¨ Ïì∞Î£®ÌíãÍ≥º Îç∞Ïù¥ÌÑ∞ ÏùºÍ¥ÄÏÑ± ÏÇ¨Ïù¥Ïùò Ìä∏Î†àÏù¥Îìú Ïò§ÌîÑÎ•º Í¥ÄÎ¶¨Ìï† Ïàò ÏûàÏäµÎãàÎã§.</li>
  <li>
    <p>SQL ÌëúÏ§ÄÏóêÏÑú Ï†ïÏùòÌïòÎäî Í≤©Î¶¨ÏàòÏ§Ä(Isolation Level)Ïùò ÌóàÏö©Î≤îÏúÑÎäî ÏïÑÎûòÏôÄ Í∞ôÏäµÎãàÎã§.</p>

    <table>
      <thead>
        <tr>
          <th style="text-align: left">Isolation Level</th>
          <th style="text-align: center">Dirty read</th>
          <th style="text-align: center">Non-repeatable read</th>
          <th style="text-align: center">Phantom read</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td style="text-align: left">Read uncommitted</td>
          <td style="text-align: center">O</td>
          <td style="text-align: center">O</td>
          <td style="text-align: center">O</td>
        </tr>
        <tr>
          <td style="text-align: left">Read committed</td>
          <td style="text-align: center">X</td>
          <td style="text-align: center">O</td>
          <td style="text-align: center">O</td>
        </tr>
        <tr>
          <td style="text-align: left">Repeatable read</td>
          <td style="text-align: center">X</td>
          <td style="text-align: center">X</td>
          <td style="text-align: center">O</td>
        </tr>
        <tr>
          <td style="text-align: left">Serializable</td>
          <td style="text-align: center">X</td>
          <td style="text-align: center">X</td>
          <td style="text-align: center">X</td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>

<h4 id="dirty-read">Dirty Read</h4>
<ul>
  <li>Îã§Î•∏ Ìä∏ÎûúÏû≠ÏÖòÏóêÏÑú ÏïÑÏßÅ Ïª§Î∞ãÎêòÏßÄ ÏïäÏùÄ Í∞íÏùÑ ÏùΩÎäî Í≤ΩÏö∞ÏûÖÎãàÎã§.</li>
  <li>
    <p>ÏòàÏãúÎäî Îã§ÏùåÍ≥º Í∞ôÏäµÎãàÎã§.</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  # given
  - 2Î≤à Ìä∏ÎûúÏû≠ÏÖòÏùÄ y = y + 20ÏùÑ ÏàòÌñâÌïòÍ≥† 1Î≤à Ìä∏ÎûúÏû≠ÏÖòÏùÄ x = x + yÎ•º ÏàòÌñâÌï©ÎãàÎã§.
  # when
  - 2Î≤à Ìä∏ÎûúÏû≠ÏÖòÏóêÏÑú Í∞íÏùÑ ÏàòÏ†ïÌïòÍ≥†, 1Î≤à Ìä∏ÎûúÏû≠ÏÖòÏù¥ Í∑∏ Í∞íÏùÑ Ïù¥Ïö©Ìï¥ Í∞íÏùÑ ÏàòÏ†ïÌïòÍ≥† Ïª§Î∞ãÌï©ÎãàÎã§.
  - Í∑∏ÌõÑ, 2Î≤à Ìä∏ÎûúÏû≠ÏÖòÏóêÏÑú Ïò§Î•òÍ∞Ä Î∞úÏÉùÌïòÏó¨ Î°§Î∞±ÌïòÍ≤å Îê©ÎãàÎã§.
  # then
  - 1Î≤à Ìä∏ÎûúÏû≠ÏÖòÏùÄ Í≤∞Í≥ºÏ†ÅÏúºÎ°ú ÎπÑÏ†ïÏÉÅÏ†ÅÏù∏ ÏàòÏ†ïÏù¥ ÎêòÏñ¥Î≤ÑÎ¶∞ Í≤ΩÏö∞ÏûÖÎãàÎã§.
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="non-repeatable-read-fuzzy-read">Non-repeatable Read (Fuzzy Read)</h4>
<ul>
  <li>ÌïòÎÇòÏùò Ìä∏ÎûúÏû≠ÏÖòÏù¥ Í∞ôÏùÄ Îç∞Ïù¥ÌÑ∞Ïùò Í∞íÏù¥ Ï°∞ÌöåÌï† ÎïåÎßàÎã§ Í∞íÏù¥ Îã¨ÎùºÏßÄÎäî Í≤ΩÏö∞ÏûÖÎãàÎã§.</li>
  <li>
    <p>ÏòàÏãúÎäî Îã§ÏùåÍ≥º Í∞ôÏäµÎãàÎã§.</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  # given
  - 1Î≤à Ìä∏ÎûúÏû≠ÏÖòÏùÄ xÎ•º ÎëêÎ≤à ÏùΩÏäµÎãàÎã§. 2Î≤à Ìä∏ÎûúÏû≠ÏÖòÏùÄ xÏóê 40ÏùÑ ÎçîÌï©ÎãàÎã§.
  # when
  - 1Î≤à Ìä∏ÎûúÏû≠ÏÖòÏóêÏÑú xÎ•º Ìïú Î≤à ÏùΩÏäµÎãàÎã§.
  - 2Î≤à Ìä∏ÎûúÏû≠ÏÖòÏù¥ xÏóê 40ÏùÑ ÎçîÌïòÍ≥† Ïª§Î∞ãÌïòÏó¨ Í∞íÏùÑ ÏàòÏ†ïÌï©ÎãàÎã§.
  # then
  - 1Î≤à Ìä∏ÎûúÏû≠ÏÖòÏóêÏÑú Îã§Ïãú xÎ•º ÏùΩÏúºÎ©¥ Ï≤´Î≤àÏß∏ ÏùΩÏùÄ Í∞íÍ≥º Îã§Î•∏ Í∞íÏù¥ Ï°∞ÌöåÎê©ÎãàÎã§.
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="phantom-read">Phantom Read</h4>
<ul>
  <li>ÏóÜÎçò Îç∞Ïù¥ÌÑ∞Í∞Ä ÏÉùÍ∏∞Í≤å ÎêòÎäî ÌòÑÏÉÅÏûÖÎãàÎã§.</li>
  <li>
    <p>ÏòàÏãúÎäî Îã§ÏùåÍ≥º Í∞ôÏäµÎãàÎã§.</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  # given
  - 1Î≤à Ìä∏ÎûúÏû≠ÏÖòÏùÄ WHERE v=10Ïù∏ Îç∞Ïù¥ÌÑ∞Î•º Îëê Î≤à ÏùΩÏäµÎãàÎã§.
  - 2Î≤à Ìä∏ÎûúÏû≠ÏÖòÏùÄ WHERE v=30Ïù∏ Îç∞Ïù¥ÌÑ∞Î•º v=10ÏúºÎ°ú ÏàòÏ†ïÌï©ÎãàÎã§.
  # when
  - 1Î≤à Ìä∏ÎûúÏû≠ÏÖòÏóêÏÑú Ï°∞Í±¥Î¨∏ÏùÑ ÏÇ¨Ïö©ÌïòÏó¨ Îç∞Ïù¥ÌÑ∞Î•º ÏùΩÏúºÎ©¥ Ï°∞ÌöåÎêòÎäî ÌäúÌîåÏùÄ ÌïòÎÇòÏûÖÎãàÎã§.
  - 2Î≤à Ìä∏ÎûúÏû≠ÏÖòÏóêÏÑú v=30ÏùÑ v=10ÏúºÎ°ú ÏàòÏ†ïÌïòÍ≥† Ïª§Î∞ãÌïòÎ©¥ 1Î≤àÏóêÏÑú Î∂àÎü¨Ïò¨ Ïàò ÏûàÎäî Ï°∞Í±¥Ïù¥ Îê©ÎãàÎã§.
  # then
  - 1Î≤àÏóêÏÑú Í∞ôÏùÄ Ï°∞Í±¥ÏúºÎ°ú Îã§Ïãú Ï°∞ÌöåÌïòÍ≤å ÎêòÎ©¥ v=10Ïóê ÎåÄÌïú ÌäúÌîåÏù¥ 2Í∞úÍ∞Ä Îê©ÎãàÎã§.
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="Ïã§Î¨¥ÏóêÏÑúÎäî-Ïñ¥ÎñªÍ≤å-ÏÇ¨Ïö©ÌïòÎäîÍ∞Ä">Ïã§Î¨¥ÏóêÏÑúÎäî Ïñ¥ÎñªÍ≤å ÏÇ¨Ïö©ÌïòÎäîÍ∞Ä?</h3>
<ul>
  <li>MySQL: ÌëúÏ§ÄÏóêÏÑú Ï†ïÏùòÌïòÎäî ÏúÑÏùò ÎÑ§Í∞úÏùò Í≤©Î¶¨ ÏàòÏ§ÄÏùÑ Î™®Îëê ÏÇ¨Ïö©Ìï©ÎãàÎã§.</li>
  <li>SQL server: ÌëúÏ§ÄÏóêÏÑú Ï†ïÏùòÌïòÎäî ÎÑ§Í∞úÏùò Í≤©Î¶¨ ÏàòÏ§ÄÏùÑ Î™®Îëê ÏÇ¨Ïö©Ìï©ÎãàÎã§.</li>
  <li>Oracle: <code class="language-plaintext highlighter-rouge">READ UNCOMMITTED</code>Îäî ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÏäµÎãàÎã§. <code class="language-plaintext highlighter-rouge">REPEATABLE READ</code> ÎåÄÏã† <code class="language-plaintext highlighter-rouge">SERIALIZABLE</code>Î°ú ÏÑ§Ï†ïÌï¥ÏïºÌï©ÎãàÎã§.<br />
Í≤∞Í≥ºÏ†ÅÏúºÎ°ú, <code class="language-plaintext highlighter-rouge">READ COMMITTED</code>ÏôÄ <code class="language-plaintext highlighter-rouge">SERIALIZABLE</code> Îëê Í∞úÏùò Í≤©Î¶¨ ÏàòÏ§ÄÎßå ÏÇ¨Ïö©Ìï©ÎãàÎã§.</li>
  <li>Postgre SQL: ÌëúÏ§ÄÏóêÏÑú Ï†ïÏùòÌïòÎäî ÎÑ§Í∞úÏùò Í≤©Î¶¨ ÏàòÏ§Ä + <code class="language-plaintext highlighter-rouge">Serialization Anomaly</code> Í¥ÄÎ†® ÏÑ§Ï†ïÏùÑ ÏÇ¨Ïö©Ìï©ÎãàÎã§.<br />
Repeatable readÎäî snapshot isolation levelÏóê Ìï¥ÎãπÌï©ÎãàÎã§.</li>
</ul>

<h2 id="ÎèôÏãúÏÑ±concurrencyÏù¥ÎûÄ">ÎèôÏãúÏÑ±(Concurrency)Ïù¥ÎûÄ?</h2>
<ul>
  <li>ÌïòÎÇòÏùò CPU ÏΩîÏñ¥ÏóêÏÑú ÏãúÍ∞ÑÎ∂ÑÌï†ÏùÑ ÌÜµÌïòÏó¨ Ïó¨Îü¨ ÏùºÏùÑ Ï≤òÎ¶¨ÌïòÎäî Í≤ÉÏ≤òÎüº Î≥¥Ïó¨ÏßÄÍ≤å ÌïòÎäî Í∏∞Î≤ïÏùÑ ÏùòÎØ∏Ìï©ÎãàÎã§.</li>
  <li>DBÏóêÏÑúÎäî ÏûêÏõêÏóê Ï†ëÍ∑ºÌïòÍ∏∞ ÏúÑÌï¥ ÎèôÏãúÏÑ±ÏùÑ ÌóàÏö©ÌïòÏó¨ Ìä∏ÎûúÏû≠ÏÖòÏù¥ ÏàúÏÑúÏóê ÏÉÅÍ¥ÄÏóÜÏù¥ ÎèôÏãúÏóê Ïã§ÌñâÎêòÎäî Í≤ÉÏùÑ ÌóàÏö©Ìï©ÎãàÎã§.</li>
  <li>Ïù¥Î•º Ï†úÎåÄÎ°ú ÌååÏïÖÌïòÏßÄ Î™ªÌïòÍ≥† ÏÑ§Ï†ïÌïòÎ©¥, Îç∞Ïù¥ÌÑ∞Î•º ÏàòÏ†ïÌïòÏó¨ Ï†ÄÏû•ÌñàÏßÄÎßå Ï°∞ÌöåÌñàÏùÑ Îïå Îã§Î•∏ Í∞íÏù¥ Î∞òÌôòÎêòÎäî Îì±Ïùò Î¨¥Í≤∞ÏÑ±Ïù¥ Íπ®ÏßÄÎäî Î¨∏Ï†úÍ∞Ä Î∞úÏÉùÌïòÍ≤å Îê©ÎãàÎã§.</li>
</ul>

<h3 id="read-uncommitted">Read uncommitted</h3>
<ul>
  <li>ÌïòÎÇòÏùò Ìä∏ÎûúÏû≠ÏÖòÏùò Î≥ÄÍ≤Ω Ïù¥ÌõÑ Ïª§Î∞ã, Î°§Î∞±Í≥º ÏÉÅÍ¥ÄÏóÜÏù¥ Îã§Î•∏ Ìä∏ÎûúÏû≠ÏÖòÏóê ÏòÅÌñ•ÏùÑ ÎØ∏Ïπ©ÎãàÎã§.</li>
  <li>1Î≤à Ìä∏ÎûúÏû≠ÏÖòÏù¥ ÏóÖÎç∞Ïù¥Ìä∏Î•º ÌïòÍ≥† commitÏùÑ ÌïòÏßÄ ÏïäÏùÄ ÏÉÅÌÉúÏóêÏÑú 2Î≤à Ìä∏ÎûúÏû≠ÏÖòÏù¥ ÏóÖÎç∞Ïù¥Ìä∏ÌïòÍ≥† Ï°∞ÌöåÌïòÎäî Í≤ΩÏö∞ÏûÖÎãàÎã§.</li>
  <li>Ïù¥ Í≤ΩÏö∞, <code class="language-plaintext highlighter-rouge">Dirty Read</code> Î¨∏Ï†úÍ∞Ä Î∞úÏÉùÌï† Ïàò ÏûàÏäµÎãàÎã§.</li>
  <li>ÎßåÏïΩ Îã§Î•∏ Ìä∏ÎûúÏû≠ÏÖòÏù¥ Î°§Î∞±ÎêúÎã§Î©¥ Îã§Ïãú ÏùΩÏóàÏùÑ ÎñÑ Í∞íÏù¥ Îã¨ÎùºÏßëÎãàÎã§.</li>
  <li>ÎåÄÎ∂ÄÎ∂Ñ RDBMSÏóêÏÑúÎäî ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÎäî Í≤©Î¶¨ ÏàòÏ§ÄÏûÖÎãàÎã§.</li>
</ul>

<h3 id="read-committed">Read committed</h3>
<ul>
  <li>ÌïòÎÇòÏùò Ìä∏ÎûúÏû≠ÏÖòÏùò Î≥ÄÍ≤ΩÏù¥ Ïª§Î∞ãÎêú ÌõÑÏóêÎßå Îã§Î•∏ Ìä∏ÎûúÏû≠ÏÖòÏóê Î≥ÄÍ≤ΩÏÇ¨Ìï≠Ïù¥ Î∞òÏòÅÎê©ÎãàÎã§.</li>
  <li>1Î≤à Ìä∏ÎûúÏû≠ÏÖòÏù¥ Í∞íÏùÑ <code class="language-plaintext highlighter-rouge">Update</code> ÌõÑ 1Î≤à Ìä∏ÎûúÏû≠ÏÖòÏùò ‚ÄúÏª§Î∞ã Ïù¥Ï†Ñ‚ÄùÏóê 2Î≤à Ìä∏ÎûúÏû≠ÏÖòÏù¥ Ï°∞ÌöåÌïúÎã§Î©¥ Î≥ÄÍ≤Ω Ï†Ñ Í∞íÏùÑ ÏùΩÏäµÎãàÎã§.</li>
  <li>ÌïòÏßÄÎßå, 1Î≤à Ìä∏ÎûúÏû≠ÏÖòÏù¥ ÏÇΩÏûÖ, ÏàòÏ†ï ÌõÑ ‚ÄúÏª§Î∞ã Ïù¥ÌõÑ‚ÄùÏóê 2Î≤à Ìä∏ÎûúÏû≠ÏÖòÏù¥ Í∞íÏùÑ Ï°∞ÌöåÌïúÎã§Î©¥ Î≥ÄÍ≤Ω ÌõÑ Í∞íÏùÑ Ï°∞ÌöåÌï©ÎãàÎã§.</li>
  <li>Ïù¥ Í≤ΩÏö∞, <code class="language-plaintext highlighter-rouge">Non-Repeatable Read</code> Î¨∏Ï†úÍ∞Ä Î∞úÏÉùÌï† Ïàò ÏûàÏäµÎãàÎã§.</li>
  <li>OracleÏùÑ Ìè¨Ìï®Ìïú ÎßéÏùÄ DBMSÍ∞Ä ÏÑ†ÌÉùÌïòÎäî Í≤©Î¶¨ ÏàòÏ§ÄÏûÖÎãàÎã§.</li>
</ul>

<h3 id="repeatable-read">Repeatable Read</h3>
<ul>
  <li>Ìä∏ÎûúÏû≠ÏÖòÏù¥ ÏãúÏûëÎêòÍ≥† Ï¢ÖÎ£åÎêòÍ∏∞ Ï†ÑÍπåÏßÄ Ìïú Î≤à Ï°∞ÌöåÌïú Í∞íÏùÄ Í≥ÑÏÜçÌï¥ÏÑú Í∞ôÏùÄ Í∞íÏúºÎ°ú Ï°∞ÌöåÎê©ÎãàÎã§.</li>
  <li>Ïù¥ Îïå, <code class="language-plaintext highlighter-rouge">Update</code>Ïóê ÎåÄÌï¥ÏÑúÎäî Îç∞Ïù¥ÌÑ∞Ïùò Ï†ïÌï©ÏÑ±Ïù¥ Î≥¥Ïû•ÎêòÏßÄÎßå, <code class="language-plaintext highlighter-rouge">Insert</code>Ïóê ÎåÄÌï¥ÏÑúÎäî Î≥¥Ïû•ÎêòÏßÄ ÏïäÏäµÎãàÎã§.</li>
  <li>Ïù¥ Í≤ΩÏö∞, <code class="language-plaintext highlighter-rouge">Phantom Read</code> Î¨∏Ï†úÍ∞Ä Î∞úÏÉùÌï©ÎãàÎã§.</li>
</ul>

<h3 id="serializable">Serializable</h3>
<ul>
  <li>Í∞ÄÏû• ÏóÑÍ≤©Ìïú Í≤©Î¶¨ ÏàòÏ§ÄÏûÖÎãàÎã§.</li>
  <li>Ìïú Ìä∏ÎûúÏû≠ÏÖòÏù¥ ÌÖåÏù¥Î∏îÏùÑ ÏùΩÏúºÎ©¥ Îã§Î•∏ Ìä∏ÎûúÏû≠ÏÖòÏùÄ Í∑∏ ÌÖåÏù¥Î∏îÏóê ÎåÄÌï¥ Ï∂îÍ∞Ä, Î≥ÄÍ≤Ω, ÏÇ≠Ï†úÍ∞Ä Ï†úÌïúÎê©ÎãàÎã§.</li>
  <li>Ï†ïÌï©ÏÑ± Î¨∏Ï†úÎäî Î∞úÏÉùÌïòÏßÄ ÏïäÍ≤†ÏßÄÎßå, ÎèôÏãú Ï≤òÎ¶¨ ÏÑ±Îä•Ïù¥ Îñ®Ïñ¥ÏßëÎãàÎã§.</li>
</ul>

<h2 id="ÎπÑÍ¥ÄÏ†ÅÏù∏-Î∞©Î≤ï">ÎπÑÍ¥ÄÏ†ÅÏù∏ Î∞©Î≤ï</h2>
<ul>
  <li>ÌòÑÏû¨ ÏàòÏ†ïÌïòÎ†§Îäî Îç∞Ïù¥ÌÑ∞Í∞Ä Ïñ∏Ï†úÎì† Îã§Î•∏ ÏöîÏ≤≠Ïóê ÏùòÌï¥ ÏàòÏ†ïÎê† Í∞ÄÎä•ÏÑ±ÏùÑ Í≥†Î†§ÌïòÏó¨ Îç∞Ïù¥ÌÑ∞Ïóê LockÏùÑ Í±∞Îäî Î∞©ÏãùÏûÖÎãàÎã§.</li>
  <li>Ïû•Ï†ê: Îç∞Ïù¥ÌÑ∞Ïùò Î¨¥Í≤∞ÏÑ±ÏùÑ ÏôÑÎ≤ΩÌûà ÏßÄÌÇ¨ Ïàò ÏûàÏäµÎãàÎã§.<br />
(ÏàòÏ†ïÌï† Îç∞Ïù¥ÌÑ∞Ïóê row level lockÏùÑ Í±∏Ïñ¥, Îã§Î•∏ ÏöîÏ≤≠ÏóêÏÑú ÏàòÏ†ïÌï† Ïàò ÏóÜÏäµÎãàÎã§.)</li>
  <li>Îã®Ï†ê: lockÏúºÎ°ú Ïù∏ÌïòÏó¨ Îã§Î•∏ ÏöîÏ≤≠Îì§ÏùÄ ÎåÄÍ∏∞ÏÉÅÌÉúÍ∞Ä Îê©ÎãàÎã§.<br />
(Í∏∞Ï°¥ LockÏùò Ìä∏ÎûúÏû≠ÏÖòÏù¥ Ïª§Î∞ã ÎòêÎäî Î°§Î∞±ÏúºÎ°ú ÎÅùÎÇòÎ©¥ ÎåÄÍ∏∞ÌïòÎçò ÏöîÏ≤≠ÏùÑ Ïã§ÌñâÌï©ÎãàÎã§.)</li>
</ul>

<h3 id="Î∞©Î≤ï-1-Ìä∏ÎûúÏû≠ÏÖò-Í≤©Î¶¨ÏàòÏ§Ä-ÏàòÏ†ï">Î∞©Î≤ï 1: Ìä∏ÎûúÏû≠ÏÖò Í≤©Î¶¨ÏàòÏ§Ä ÏàòÏ†ï</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SHOW</span> <span class="n">TRANSACTION</span> <span class="k">ISOLATION</span> <span class="k">LEVEL</span><span class="p">;</span>
<span class="o">#</span> <span class="k">read</span> <span class="k">committed</span>
</code></pre></div></div>

<ul>
  <li>Í∏∞Î≥∏ÏúºÎ°ú ÏÑ§Ï†ïÎêòÏñ¥ÏûàÎçò Í≤©Î¶¨ÏàòÏ§ÄÏùÑ ÎÜíÏó¨ÏÑú ÎèôÏãúÏÑ±ÏùÑ Ìï¥Í≤∞Ìï† Ïàò ÏûàÏäµÎãàÎã§.</li>
  <li>
    <p>ÌïòÏßÄÎßå, Î™®Îì† Ìä∏ÎûúÏû≠ÏÖòÏùò Í≤©Î¶¨ÏàòÏ§ÄÏù¥ Ïò¨ÎùºÍ∞ÄÍ≤å ÎêòÎ©∞ ÏÑ±Îä•ÏùÄ ÌïòÎùΩÌï©ÎãàÎã§.</p>
  </li>
  <li>postgresÏùò Í≤ΩÏö∞, Í∏∞Î≥∏ Í≤©Î¶¨ÏàòÏ§ÄÏùÄ <code class="language-plaintext highlighter-rouge">read committed</code>Ïù¥ÏßÄÎßå, <code class="language-plaintext highlighter-rouge">repeatable read</code>ÎÇò seralizable`Î°ú Ìñ•ÏÉÅÏãúÌÇµÎãàÎã§.</li>
</ul>

<h3 id="Î∞©Î≤ï-2-select-for-update">Î∞©Î≤ï 2: select for update</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">#</span> <span class="n">transaction</span> <span class="mi">1</span>
<span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">aircraft</span> <span class="k">where</span> <span class="n">id</span><span class="o">=</span> <span class="mi">20231030</span> <span class="k">for</span> <span class="k">update</span>

<span class="o">#</span> <span class="n">transaction</span> <span class="mi">2</span>
<span class="o">#</span> <span class="err">Ïù¥Í±¥</span> <span class="err">Í∞ÄÎä•</span>
<span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">aircraft</span> <span class="k">where</span> <span class="n">id</span> <span class="o">=</span> <span class="mi">20231030</span>

<span class="o">#</span> <span class="n">transaction</span> <span class="mi">2</span>
<span class="o">#</span> <span class="err">Ïù¥Í±¥</span> <span class="err">Î∂àÍ∞ÄÎä•</span>
<span class="k">update</span> <span class="n">aircraft</span> <span class="k">set</span> <span class="n">remaining_seat</span> <span class="o">=</span> <span class="n">remaining_seat</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">where</span> <span class="n">id</span> <span class="o">=</span> <span class="mi">20231030</span>
</code></pre></div></div>

<ul>
  <li>row lockÏùÑ Ï†úÏñ¥ÌïòÎäî Î∞©ÏãùÏûÖÎãàÎã§.</li>
  <li>
    <p>DBMS Ï†ÑÏ≤¥ÎÇò ÌÖåÏù¥Î∏îÏóê lockÏùÑ Í±∞Îäî Í≤ÉÎ≥¥Îã§, Ï¢ÅÏùÄ Î≤îÏúÑÏóê lockÏùÑ ÏÇ¨Ïö©ÌïòÏó¨ ÏÑ±Îä• ÌïòÌñ•ÏùÑ ÏµúÏÜåÌôîÌï©ÎãàÎã§.</p>
  </li>
  <li>ÌäπÏ†ï rowÏóê lockÏùÑ Í±∏Ïñ¥, Ï°∞ÌöåÎäî Í∞ÄÎä•ÌïòÍ≤å ÌïòÎêò, ÏóÖÎç∞Ïù¥Ìä∏Îäî Î∂àÍ∞ÄÎä•ÌïòÎèÑÎ°ù ÎßâÏäµÎãàÎã§.</li>
</ul>

<h3 id="Î∞©Î≤ï-3-redis">Î∞©Î≤ï 3: redis</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># django-redis ÏÇ¨Ïö©
</span>
<span class="kn">from</span> <span class="n">django.core.cache</span> <span class="kn">import</span> <span class="n">cache</span>
<span class="n">aircraft_reserve_key</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">'</span><span class="s">aircraft_reserve_key:</span><span class="si">{</span><span class="n">user_id</span><span class="si">}</span><span class="s">:</span><span class="si">{</span><span class="n">aircraft_id</span><span class="si">}</span><span class="sh">'</span>
<span class="k">if</span> <span class="n">cache</span><span class="p">.</span><span class="nf">set</span><span class="p">(</span><span class="sh">'</span><span class="s">aircraft_reserve_key</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">1</span><span class="sh">'</span><span class="p">,</span> <span class="n">nx</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
    <span class="n">aircraft</span> <span class="o">=</span> <span class="n">Aircraft</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">aircraft_id</span><span class="p">)</span>
    <span class="n">aircraft</span><span class="p">.</span><span class="n">remaining_seat</span> <span class="o">-=</span> <span class="mi">1</span>
    <span class="n">aircraft</span><span class="p">.</span><span class="nf">save</span><span class="p">()</span>
</code></pre></div></div>
<ul>
  <li>redisÎ•º ÏÇ¨Ïö©ÌïòÏó¨ application Î†àÎ≤®ÏóêÏÑú ÎùΩÏùÑ Ïû°Îäî Î∞©Î≤ïÏûÖÎãàÎã§.</li>
  <li>redisÎäî setnx(set not exist)Î•º ÏÇ¨Ïö©ÌïòÎ©∞, ‚ÄúÎùΩÏù¥ Ï°¥Ïû¨ÌïòÏßÄ ÏïäÎäîÎã§Î©¥‚Äù ‚ÄúÎùΩÏùÑ ÌöçÎìùÌïúÎã§‚ÄùÎäî Îëê Ïó∞ÏÇ∞ÏùÑ atomicÌïòÍ≤å ÎùΩÏùÑ ÌöçÎìùÌïòÎèÑÎ°ù Ìï¥Ï§çÎãàÎã§.</li>
</ul>

<h3 id="Ï∞∏Í≥†-djangoÏóêÏÑú-ÏßÄÏõêÌïòÎäî-select-for-update">Ï∞∏Í≥†: DjangoÏóêÏÑú ÏßÄÏõêÌïòÎäî select for update</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="n">transaction</span><span class="p">.</span><span class="nf">atomic</span><span class="p">():</span>
    <span class="n">aircraft</span> <span class="o">=</span> <span class="n">Aircraft</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="nb">id</span><span class="p">).</span><span class="nf">select_for_update</span><span class="p">()</span>
    <span class="n">aircraft</span><span class="p">.</span><span class="n">remaining_seat</span> <span class="o">-=</span> <span class="mi">1</span>
    <span class="n">aircraft</span><span class="p">.</span><span class="nf">save</span><span class="p">()</span>
</code></pre></div></div>
<ul>
  <li>Ìï≠Í≥µÍ∏∞Î•º ÏòàÏïΩÌïòÎäî ÏòàÏãúÎ°ú, ÏòàÏïΩ ÏãúÌä∏Ïùò Î≥ÄÍ≤ΩÏù¥ ÏûàÎäî ÎèôÏïà ÌäπÏ†ï idÏùò Î†àÏΩîÎìúÏóê ÎåÄÌï¥ ÎùΩÏùÑ Í±∏Ïñ¥Îë°ÎãàÎã§.</li>
</ul>

<h4 id="of">of</h4>
<ul>
  <li>Í∏∞Î≥∏Ï†ÅÏúºÎ°ú Ïû•Í≥† ORMÏùÄ Î™®Îì† ÏøºÎ¶¨Ïóê ÎùΩÏùÑ Í±∏Ïñ¥Î≤ÑÎ¶ΩÎãàÎã§. Îî∞ÎùºÏÑú, ÌäπÏ†ï Î™®Îç∏ ÌÅ¥ÎûòÏä§Î•º ÎåÄÏÉÅÏúºÎ°ú ÎùΩÏùÑ ÏÑ§Ï†ïÌï†ÏßÄ ÏßÄÏ†ïÌï† Ïàò ÏûàÏäµÎãàÎã§.</li>
  <li><code class="language-plaintext highlighter-rouge">select_related</code>ÏôÄ Ìï®Íªò ÏÇ¨Ïö©ÌïòÎäî Í≤ΩÏö∞ join ÌÖåÏù¥Î∏îÏùò ÌñâÎèÑ Ìï®Íªò ÎùΩÏùÑ Í±∏Í∏∞ ÎïåÎ¨∏Ïóê Î™ÖÌôïÌûà Î™ÖÏãúÌï† Ïàò ÏûàÏäµÎãàÎã§.</li>
</ul>

<h4 id="skip_locked">skip_locked</h4>
<ul>
  <li>TrueÎ°ú ÏÑ§Ï†ïÌïòÎ©¥ ÎùΩÏù¥ Í±∏Î¶∞ Î†àÏΩîÎìúÎ•º Î¨¥ÏãúÌïòÍ≥† ÎùΩÏù¥ Í±∏Î¶¨ÏßÄ ÏïäÏùÄ Î†àÏΩîÎìúÎ•º Ï∞æÏäµÎãàÎã§.</li>
</ul>

<h4 id="nowait">nowait</h4>
<ul>
  <li>Í∏∞Î≥∏ Í∞íÏùÄ FalseÏù¥Î©∞, row ÎùΩÏù¥ Í±∏Î†§ÏûàÎã§Î©¥ Ìä∏ÎûúÏû≠ÏÖòÏù¥ ÎÅùÎÇ†ÎïåÍπåÏßÄ ÎåÄÍ∏∞ÌñàÎã§Í∞Ä ÎÅùÎÇòÎ©¥ ÏûëÏóÖÏùÑ ÏßÑÌñâÌï©ÎãàÎã§.</li>
  <li>TrueÏùº Îïå ÎùΩÏù¥ Í±∏Î¶∞ Ìä∏ÎûúÏû≠ÏÖòÏù¥ ÎÅùÎÇ† ÎïåÍπåÏßÄ Í∏∞Îã§Î¶¨ÏßÄ ÏïäÍ≥† Î∞îÎ°ú <code class="language-plaintext highlighter-rouge">DatabaseError</code>Î•º Î∞úÏÉùÏãúÌÇµÎãàÎã§.</li>
</ul>

<h4 id="Ï£ºÏùòÏÇ¨Ìï≠">Ï£ºÏùòÏÇ¨Ìï≠</h4>
<ol>
  <li><code class="language-plaintext highlighter-rouge">transaction.atomic()</code> Î∏îÎü≠ ÎÇ¥ÏóêÏÑú <code class="language-plaintext highlighter-rouge">select_for_update()</code>Î•º ÏÇ¨Ïö©Ìï¥ÏïÑÌï©ÎãàÎã§. 
(Î∏îÎü≠ ÎÇ¥Ïóê ÏûàÎäî ÎèôÏïà Î∏îÎü≠ ÎÇ¥ÏóêÏÑú Ï°∞ÌöåÌïú ÏøºÎ¶¨Ïóê ÎùΩÏù¥ Í±∏Î¶ΩÎãàÎã§. Îã§Î•∏ Ìä∏ÎûúÏû≠ÏÖòÏùÄ Ïù¥Î•º ÌöçÎìù/ÏàòÏ†ïÌï† Ïàò ÏóÜÏäµÎãàÎã§.)</li>
  <li><code class="language-plaintext highlighter-rouge">skip_locked</code> ÏòµÏÖòÍ≥º <code class="language-plaintext highlighter-rouge">nowait</code> ÏòµÏÖòÏùÄ ÏÉÅÌò∏Î∞∞ÌÉÄÏ†ÅÏù∏ Í¥ÄÍ≥ÑÎ°ú, Îëê ÏòµÏÖòÏùÑ Î™®Îëê ÏÇ¨Ïö©ÌïòÍ≤å ÎêòÎ©¥ <code class="language-plaintext highlighter-rouge">ValueError</code>Í∞Ä Î∞úÏÉùÌï©ÎãàÎã§.</li>
  <li><code class="language-plaintext highlighter-rouge">select_for_update()</code>Îäî nullÏùÑ Ï∞∏Ï°∞ÌïòÎäî Í≤ΩÏö∞ÏóêÎäî ÏÇ¨Ïö©Ìï† Ïàò ÏóÜÏäµÎãàÎã§.<br />
<code class="language-plaintext highlighter-rouge">Person.objects.select_related('hometown').select_for_update().exclude(hometown=None)</code></li>
  <li>eager loadingÏùÑ ÏÇ¨Ïö©ÌïòÏó¨ Ï∞∏Ï°∞Ìï¥ÏïºÌï©ÎãàÎã§.</li>
</ol>

<h2 id="ÎÇôÍ¥ÄÏ†ÅÏù∏-Î∞©Î≤ï">ÎÇôÍ¥ÄÏ†ÅÏù∏ Î∞©Î≤ï</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">reserve</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
    <span class="n">updated</span> <span class="o">=</span> <span class="n">Aircraft</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="nf">filter</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="nb">id</span><span class="p">,</span>
        <span class="n">version</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="n">version</span><span class="p">,</span>
    <span class="p">).</span><span class="nf">update</span><span class="p">(</span>
        <span class="n">remaining_seat</span><span class="o">=</span><span class="n">remaining_seat</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">version</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="n">version</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">updated</span> <span class="o">&gt;</span> <span class="mi">0</span>
</code></pre></div></div>
<ul>
  <li>version Ïª¨ÎüºÏù¥ÎÇò updated_at Ïª¨ÎüºÏùÑ Ìï®Íªò Ï°∞Ìöå Ï°∞Í±¥ÏúºÎ°ú ÏÇ¨Ïö©ÌïòÎäî Î∞©ÏãùÏûÖÎãàÎã§.</li>
  <li>Îç∞Ïù¥ÌÑ∞Î•º ÏàòÏ†ïÌï† ÎïåÎßàÎã§ versionÏùÑ 1 Ï¶ùÍ∞ÄÏãúÌÇ§Í±∞ÎÇò, updated_atÏùÑ ÌòÑÏû¨ÏãúÍ∞ÑÏúºÎ°ú Í∞±Ïã†Ìï©ÎãàÎã§.</li>
  <li>ÎèôÏãúÏóê <code class="language-plaintext highlighter-rouge">reverse</code> Î©îÏÑúÎìúÍ∞Ä Ìò∏Ï∂úÎêòÏñ¥ ÎèôÏùºÌïú Î≤ÑÏ†ÑÏúºÎ°ú ÏàòÏ†ïÌïòÎ†§Í≥† ÏãúÎèÑÌïúÎã§Î©¥ ÌïòÎÇòÏùò transactionÏùÄ Î≤ÑÏ†Ñ Ï∂©ÎèåÏù¥ÎÇòÏÑú Ïã§Ìå®ÌïòÍ≤å Îê©ÎãàÎã§.</li>
</ul>

  </div>
</div>
    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
          <li><a href="https://github.com/yamkant" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
      
        
      
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2023 Yeham Kim. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>










  </body>
</html>
